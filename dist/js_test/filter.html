<!doctype html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <title>filterデモ</title>
  <link href=".././common/css/style.css" rel="stylesheet" type="text/css">
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
</head>

<style>
</style>

<body>
  <header>
    <div class="container">
      <nav>
        <ul class="g-nav">
          <li><a href="#">ナビ1</a></li>
          <li><a href="#">ナビ2</a></li>
          <li><a href="#">ナビ3</a></li>
          <li><a href="#">ナビ4</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <div class="container">
    <h1>filterデモ</h1>

    <div class="button-wrapper">
      <button class="button" data-age="20">20歳以上</button>
      <button class="button" data-age="30">30歳以上</button>
      <button class="button" data-age="40">40歳以上</button>
    </div>
    <ul class="user_list"></ul>

    <div>
      <pre>
<code>
</code>
</pre>
    </div>
    <p><a href="../" class="btn">トップページへ戻る</a></p>
  </div>
  <footer>
    <div class="container">
      <address>Copyright(C)ここに年 個人名or会社名,Allright Reserved.</address>
    </div>
  </footer>
</body>
<script src=".././common/js/run.js"></script>
<script>
  const userAgeList = [{
      name: '田中',
      age: 18
    },
    {
      name: '森田',
      age: 27
    },
    {
      name: '増本',
      age: 32
    },
    {
      name: '小島',
      age: 41
    },
    {
      name: '鳥居',
      age: 49
    }
  ];

  const buttons = document.querySelectorAll('button');

  buttons.forEach(function(element) {
    element.addEventListener('click', function(event) {
      onClickButton(event);
    });
  });

  function onClickButton(event) {
    const button = event.target;
    const targetAge = button.dataset.age;
    const filterdList = userAgeList.filter(
      function(data) {
        if (data.age >= targetAge) {
          return true;
        }
      });
    updateList(filterdList);
  }

  function updateList(filterdList) {
    let listHtml = '';
    for (const data of filterdList) {
      listHtml += `<li>${data.name} : ${data.age} 歳</li>`
    }
    document.querySelector('.user_list').innerHTML = listHtml;
  }
</script>

</html>